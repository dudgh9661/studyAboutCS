<h3>HTTP vs HTTPS</h3>

Client <----HTTP----> Server

1. 제 3자가 통신하는 데이터를 엿볼 수 있다.
2. Client가 접속한 Server가 이상한 Server일 수 있다. (즉, 접속하기를 희망한 Server가 아닐 수 있다)

Client <----HTTPS----> Server

1. 제 3자가 통신하는 데이터를 엿봐도, 암호화가 되어있기 때문에 무슨 내용인지 알 수 없다.
2. Certificate Autority(이하 CA)에서 인증받은 사이트만이 HTTPS를 쓸 수 있기 때문에 신뢰성이 보장된다.

HTTPS의 특징 2가지를 알기 위해선, 대칭키와 비대칭키(공개키)를 이해해야 한다.

Client(대칭키) <-------> Server(대칭키)

1. Data를 대칭키 A로 암호화 
2. 대칭키 A를 가진 사람만이 복호화 가능

문제점 : 대칭키를 공유하는 과정에서, 대칭키를 탈취 당할 수 있다.

이를 개선하기 위해서, 비대칭키(공개키) 방식이 등장

Client(공개키)<-------->Server(개인키)

1. Server는 '개인키'를 혼자 보유한다.
2. Client들에게 공개키를 제공한다.
3. 공개키로 암호화된 Data는 개인키로만 복호화가 가능하다

< 최초 HandShake 과정을 통해 연결 >

Client<----HTTPS---->Server

> 최초 서버 접속 시, Client는 Server를 신뢰할 수 없다. 신뢰하기 위해 HandShake 과정을 거친다.

1. Client가 임시 랜덤 데이터(Tmp)를 Server로 전송한다.
2. Server는 임시 랜덤 데이터 + 인증서로 응답한다.
3. Clinet는 Web Browser 내부에 있는 CA 리스트를 이용해, 이 인증서가 진짜인지를 검증한다.

이 검증 과정에서, 비대칭키(공개키)가 사용된다.

4. CA가 인증한 Server들의 인증서는, CA의 개인키로 암호화 되어있다.
5. 이 인증서가 진짜라면, Client의 CA리스트로부터 받은 '공개키'로 이 증명서를 복호화 할 수 있다. 복호화되지 않는다면, 이 증명서는 가짜!
6. 복호화된 인증서에는 Server의 공개키가 포함 되어있다. 

그럼 이제, 이 비대칭키를 이용해 데이터를 주고 받을까? 아니다.

비대칭키 방식의 암복호화 과정은 대칭키 방식보다 많은 연산이 필요하기 때문

그래서, 대칭키를 이용해 데이터를 주고 받는다! 

?? 대칭키는 탈취당할 수 있다면서요??

이 대칭키를 공유할 때, 바로 이전 과정에서 얻은 비대칭키를 이용!!

7. 대칭키를 만드는 방법은, Client가 HandShake 과정에서 주고 받았던 데이터를 이용해 '임시키'를 만든다.
8. 이 임시키는 Server의 공개키로 암호화되어 Server로 보내진다.
9. 이 임시키가 일련의 과정을 거쳐, 대칭키가 된다.

